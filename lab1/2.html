<html>
<head>
    <title>Application</title>
</head>
<body>
<style type="text/css">
@media print {
  #printBtn { display:none;}
}
         
input:valid {
  border-color: none;
}

input:invalid {
  border-color: red;
}
    
  </style>
<form name="form1">
<fieldset>
<legend>User information</legend>
<p>Lastname:<br /> <input type='text' name='lastname' id='lastname' required  pattern = "^[a-zA-Z]+$"/><br /></p>
<p>Firstname: <br /><input type='text' name='firstname' id='firstname' required  pattern = "^[a-zA-Z]+$"/><br /></p>
<p>Middle name: <br /><input type='text' name='surname' id='middlename' required  pattern = "^[a-zA-Z]+$"/><br /></p>
    
<p>DOB: <br/><input type="date" id='calendar' required  name="calendar" max = ""><br/> </p>

<p>Family status:<br /> <select name="family" id="family">    
    <option value="married">Married</option>
    <option value="single">Single</option>
   </select></p>   

<p>Phone in format +375(xx) xxx-xx-xx: <br/> <input type="tel" id='tel' name="tel" 
  required  pattern="+375([0-9]{2})\s[0-9]{2}-[0-9]{2}-[0-9]{2}"><br/></p>

<p>e-mail: <br/> <input type="email" name="email" id='email' required pattern="^[-._a-z0-9]+@(?:[a-z]{3,7}+\.)+[a-z]{2,6}$
"><br/></p>    
 
<p>Location:<br /> <select name="town" id="town">    
    <option value="Minsk">Minsk</option>
    <option value="Gomel">Gomel</option>
    <option value="Grodno">Grodno</option>
   </select></p>
  
<p>Category: <br /><select name="category" id="category">   
    <option value="Student">Student</option>
    <option value="Teacher">Teacher</option>
    <option value="Master">Master</option>
   </select></p>

<p>Project name: <br /><input type='text' name='project' id='project' required  pattern="[A-Za-z0-9]{6}"/><br /></p>
    
<input type = "button" id="printBtn" class="button" onclick="sent()" value="Sent">
<input id="printBtn" type="reset" value="Reset">
<button id="printBtn" class="button" onclick="javascript:print();">Print</button>
</fieldset>
</form>

<script>
    function sent()
    { 
        var date = new Date();
        var d = date.getDate();
        var m = date.getMonth() + 1;
        var y = date.getFullYear();
        
        if (m < 10) m = "0" + m;
        if (d < 10) d = "0" + d;
        
        var fulldate = d + "." + m + "." + y + " Ð³.";    
        var category = document.getElementById("category").value;
        var name = document.getElementById("lastname").value + " " + document.getElementById("firstname").value + " " + document.getElementById("middlename").value;
        var town = document.getElementById("town").value;
        var project = document.getElementById("project").value; 
        var str = "<h1>Application for participation in the competition</h1>" + category;
        str += " " + name + "<b>Town </b>" + town + "<b> Project name </b>" + project + "<b> Departure date </b>"  + fulldate;
        
        var newWin = window.open("", "Application", "width =400, height = 230, status = no")
        newWin.document.write(str);
        newWin.focus();
    }
    
    
var date = new Date();

var day = date.getDate();
var month = date.getMonth() + 1;
var year = date.getFullYear();

if (month < 10) month = "0" + month;
if (day < 10) day = "0" + day;

var today = year + "-" + month + "-" + day;       
document.getElementById("calendar").max = today;
</script>
</body>
</html>